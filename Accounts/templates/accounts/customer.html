{% extends 'accounts/main.html'%}

{% block title%}
<title>{{customers.name.last_name }}'s Profile</title>
{%endblock%}

{% block content%}

<div class="row">
    <div class="col-md">
        <div class="card card-body">
            <h5>Customer: {{customers.name.first_name }} {{customers.name.last_name }}</h5>
            <hr>
            <a href="" class="btn btn-outline-info btn-sm  btn-block">Update Customer</a>
          
            <a href="{% url 'Delete-customer' customers.id %}" class="btn btn-outline-danger btn-sm  btn-block">Delete Customer</a>
        </div>
    </div>
    <div class="col-md">
        <div class="card card-body">
            <h5>Contact information</h5>
            <hr>

            <p>Email: {{customers.email}}</p>
            <p>Phone: {{customers.phone}}</p>
            <p>Date: {{customers.date}}</p>
        </div>
    </div>
    <div class="col-md">
        <div class="card card-body">
            <h5>
                Total Orders 
            </h5>
            <hr>
            <h1>{{orderCount}}</h1>
        </div>
    </div>
</div>

<div class="row">
    <div class="col">
        <div class="card-card-body">
            <form action="" method="get">
                {{my_filter.form}}
                <button class="btn btn-primary" type="submit">Search</button>
            </form>
        </div>
    </div>
</div>


<div class="row">
    <div class="col-md">
        <div class="card card-body">
            <h5 style="text-align: center;">{{customers.name.last_name }}'s orders</h5>
            <hr>
            <table class="table table-sm">
                <tr>
                    <th>Product</th>
                    <th>Date Ordered</th>
                    <th>Status</th>
                    <th>Update</th>
                    <th>Remove</th>
                </tr>
                
               {% for order in orders %}
                <tr>
                    <td>
                        {{order.product.name}}
                        

                    </td>
                   
                    <td>
                        {{order.date}}
                    </td>
                    <td>
                        {{order.status}}
                    </td>
                   
                </tr>
                {% endfor%}
                
              
        

            </table>
        </div>
    </div>
</div>


{% endblock%}
    
